<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="KNS Global - The Authority in Strategic Infrastructure.">
    <title>KNS GLOBAL | The Architect</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800;900&family=Plus+Jakarta+Sans:wght@300;400;500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- ENGINE VISUAL --- */
        :root {
            --bg-body: #020202;
            --bg-panel: rgba(15, 15, 15, 0.85);
            --text-main: #ffffff;
            --text-muted: #8f9ba8;
            --neon: #00ff88;
            --neon-dim: rgba(0, 255, 136, 0.1);
            --border: rgba(255, 255, 255, 0.08);
            --nav-bg: rgba(2,2,2,0.95);
            --gradient-text: linear-gradient(135deg, #ffffff 0%, #b0b0b0 100%);
            --hero-stroke: rgba(255,255,255,0.2);
            --terminal-bg: #0a0a0a;
            --terminal-text: #00ff00;
        }

        [data-theme="light"] {
            --bg-body: #f0f2f5;
            --bg-panel: rgba(255, 255, 255, 0.9);
            --text-main: #1a1a1a;
            --text-muted: #555555;
            --neon: #009c53;
            --neon-dim: rgba(0, 156, 83, 0.1);
            --border: rgba(0, 0, 0, 0.15);
            --nav-bg: rgba(240, 242, 245, 0.95);
            --gradient-text: linear-gradient(135deg, #1a1a1a 0%, #444444 100%);
            --hero-stroke: rgba(0,0,0,0.8);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); }

        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            font-family: 'Plus Jakarta Sans', sans-serif;
            overflow-x: hidden;
        }

        /* --- CLASSES DE EDICÃO (CMS) --- */
        .editable-active {
            border: 1px dashed var(--neon);
            background: rgba(0, 255, 136, 0.05);
            cursor: text;
        }
        .editable-active:focus {
            outline: none;
            background: rgba(0, 255, 136, 0.1);
            border-style: solid;
        }

        /* --- TERMINAL/SSH OVERLAY --- */
        #terminal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--terminal-bg); z-index: 9999; display: none;
            font-family: 'JetBrains Mono', monospace; padding: 40px;
            color: var(--terminal-text); overflow-y: auto;
        }
        .terminal-line { margin-bottom: 5px; }
        .terminal-input-line { display: flex; gap: 10px; margin-top: 10px; }
        .cmd-input { 
            background: transparent; border: none; color: var(--terminal-text); 
            font-family: 'JetBrains Mono'; width: 100%; outline: none; font-size: 1rem;
        }
        .cursor { animation: blink 1s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        /* --- NAV & LAYOUT --- */
        nav {
            position: fixed; top: 0; width: 100%; height: 80px; padding: 0 5%;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 1000; background: var(--nav-bg); border-bottom: 1px solid var(--border);
        }
        .brand { font-family: 'Orbitron'; font-weight: 800; font-size: 1.4rem; letter-spacing: 1px; display: flex; align-items: center; gap: 10px; color: var(--text-main); }
        .nav-links { display: flex; gap: 30px; }
        .nav-link { text-decoration: none; color: var(--text-muted); font-size: 0.75rem; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px; transition: 0.3s; cursor: pointer; }
        .nav-link:hover { color: var(--neon); }
        
        .theme-switch { background: transparent; border: none; color: var(--text-muted); cursor: pointer; font-size: 1.1rem; transition: 0.3s; }
        .btn-action { padding: 12px 30px; background: var(--text-main); color: var(--bg-body); font-family: 'Orbitron'; font-weight: 700; text-decoration: none; border-radius: 4px; font-size: 0.75rem; cursor: pointer; border: none; }
        .btn-login { background: transparent; border: 1px solid var(--neon); color: var(--neon); padding: 10px 25px; border-radius: 4px; font-family: 'Orbitron'; font-size: 0.7rem; cursor: pointer; transition: 0.3s; display: flex; align-items: center; gap: 8px; }
        .btn-login:hover { background: var(--neon); color: var(--bg-body); }

        /* --- LOGIN MODAL --- */
        #login-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); backdrop-filter: blur(20px); z-index: 2000;
            display: none; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.5s;
        }
        #login-modal.active { display: flex; opacity: 1; }
        .login-box { width: 420px; padding: 50px; background: var(--bg-body); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 0 100px rgba(0,255,136,0.05); transform: scale(0.95); transition: transform 0.3s; }
        #login-modal.active .login-box { transform: scale(1); }
        .input-field { width: 100%; padding: 15px; background: rgba(255,255,255,0.03); border: 1px solid var(--border); color: var(--text-main); border-radius: 4px; outline: none; margin-bottom: 20px; font-family: 'Plus Jakarta Sans'; }
        .btn-submit { width: 100%; padding: 18px; background: var(--neon); color: #000; border: none; font-family: 'Orbitron'; font-weight: 700; cursor: pointer; border-radius: 4px; }
        
        /* --- DASHBOARD --- */
        #dashboard-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-body); z-index: 2500; display: none; }
        .dash-container { display: flex; height: 100%; }
        .dash-sidebar { width: 280px; background: var(--bg-panel); border-right: 1px solid var(--border); padding: 40px 25px; display: flex; flex-direction: column; }
        .dash-btn { width: 100%; padding: 15px 20px; background: transparent; border: none; color: var(--text-muted); text-align: left; font-family: 'JetBrains Mono'; font-size: 0.85rem; cursor: pointer; display: flex; align-items: center; gap: 15px; margin-bottom: 10px; border-radius: 6px; }
        .dash-btn:hover, .dash-btn.active { background: var(--neon-dim); color: var(--neon); }
        .dash-main { flex: 1; padding: 50px; overflow-y: auto; }
        .dash-card { background: var(--bg-panel); border: 1px solid var(--border); padding: 30px; border-radius: 12px; }
        
        /* Settings Switches */
        .setting-row { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; border-bottom: 1px solid var(--border); }
        .switch { position: relative; display: inline-block; width: 50px; height: 26px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--neon); }
        input:checked + .slider:before { transform: translateX(24px); }

        /* --- CONTENT SECTIONS (Simplified CSS for brevity, matches previous) --- */
        .hero { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 120px 5% 0; }
        .hero-title-wrapper { font-family: 'Orbitron'; font-weight: 900; line-height: 0.9; margin-bottom: 30px; text-align: center; }
        .hero-word-1 { font-size: clamp(2rem, 5vw, 4rem); letter-spacing: 2px; color: var(--text-muted); font-weight: 600; display: block; }
        .hero-word-2 { font-size: clamp(3rem, 8vw, 6rem); color: transparent; -webkit-text-stroke: 2px var(--hero-stroke); position: relative; display: block; text-transform: uppercase; letter-spacing: -2px; }
        .hero-word-2::before { content: 'ABSOLUTA.'; position: absolute; top: 0; left: 0; width: 0%; height: 100%; color: var(--neon); overflow: hidden; white-space: nowrap; border-right: 4px solid var(--neon); -webkit-text-stroke: 0px; animation: typeFill 4s ease-in-out infinite alternate; }
        @keyframes typeFill { 0%, 20% { width: 0%; } 80%, 100% { width: 100%; } }
        
        /* Founder Box */
        .founder-box { display: grid; grid-template-columns: 350px 1fr auto; gap: 50px; align-items: center; padding: 60px; background: var(--bg-panel); border: 1px solid var(--border); border-radius: 12px; margin: 100px auto; max-width: 1400px; }
        .founder-photo { width: 100%; height: 350px; object-fit: cover; border-radius: 12px; border: 1px solid var(--border); }
        .cert-badge-wrapper { position: relative; width: 140px; height: 140px; }
        .cert-badge-img { width: 100%; transition: transform 0.4s; cursor: pointer; }
        .cert-badge-wrapper:hover .cert-badge-img { transform: scale(1.8) translateX(-10px); z-index: 999; }

        @media(max-width: 900px) { .nav-links {display:none;} .founder-box { grid-template-columns: 1fr; text-align: center; } }
    </style>
</head>
<body>

    <div id="terminal-overlay">
        <div id="terminal-output">
            <div class="terminal-line">KNS SECURE SHELL (SSH) v41.0</div>
            <div class="terminal-line">CONNECTION ESTABLISHED. ACCESS LEVEL: ROOT</div>
            <div class="terminal-line">Type 'help' for available commands.</div>
            <br>
        </div>
        <div class="terminal-input-line">
            <span>root@kns-core:~#</span>
            <input type="text" id="cmd-input" class="cmd-input" autofocus autocomplete="off">
        </div>
    </div>

    <div id="login-modal">
        <div class="login-box">
            <span class="close-modal" onclick="toggleLogin()">&times;</span>
            
            <div id="step-login">
                <div class="login-header">
                    <div class="login-title">ACESSO AO SISTEMA</div>
                    <span class="login-sub mono">SECURE GATEWAY v4.0</span>
                </div>
                <input type="text" id="email" class="input-field" placeholder="Usuário (ex: kaleb.nunes)">
                <input type="password" id="password" class="input-field" placeholder="Senha">
                <button class="btn-submit" onclick="processLogin()">ENTRAR</button>
                <div id="login-error" style="color: #ff3333; font-size: 0.7rem; margin-top: 10px; text-align: center; display: none;">ACESSO NEGADO.</div>
            </div>

            <div id="mfa-section">
                <i class="fa-solid fa-fingerprint" style="font-size: 3rem; color: var(--neon); margin-bottom: 20px; display:block; text-align:center;"></i>
                <div class="login-title" style="text-align:center;">2FA NECESSÁRIO</div>
                <p style="text-align:center; color: #888; font-size: 0.8rem; margin-bottom: 20px;">Token enviado para seu dispositivo.</p>
                <div class="mfa-dots">
                    <input type="text" class="mfa-input" value="-" disabled>
                    <input type="text" class="mfa-input" value="-" disabled>
                    <input type="text" class="mfa-input" value="-" disabled>
                </div>
                <button class="btn-submit" onclick="finalizeLogin()">CONFIRMAR</button>
            </div>
        </div>
    </div>

    <div id="dashboard-overlay">
        <div class="dash-container">
            <div class="dash-sidebar">
                <div class="dash-logo"><i class="fa-solid fa-cube"></i> KNS<span style="font-weight:300;">CORE</span></div>
                <ul class="dash-menu">
                    <li><button class="dash-btn active" onclick="switchTab('home')"><i class="fa-solid fa-chart-pie"></i> VISÃO GERAL</button></li>
                    <li><button class="dash-btn" onclick="switchTab('settings')"><i class="fa-solid fa-sliders"></i> CONTROLE TOTAL</button></li>
                </ul>
                <div class="dash-logout">
                    <button class="dash-btn" onclick="logout()" style="color: #ff3333;"><i class="fa-solid fa-power-off"></i> SAIR</button>
                </div>
            </div>

            <div class="dash-main">
                <div class="dash-header">
                    <h2 style="font-family: 'Orbitron';">PAINEL ADMINISTRATIVO</h2>
                    <div style="display:flex; align-items:center; gap:10px;">
                        <span class="mono" style="color:var(--neon);">● KALEB.NUNES</span>
                        <img src="./assets/foto.jpg" style="width:40px; height:40px; border-radius:50%; object-fit:cover;">
                    </div>
                </div>

                <div id="view-home">
                    <div class="dash-grid">
                        <div class="dash-card">
                            <span class="mono" style="color:#888;">STATUS SISTEMA</span>
                            <div class="dash-val" style="color:var(--neon);">100%</div>
                        </div>
                        <div class="dash-card">
                            <span class="mono" style="color:#888;">VISITANTES HOJE</span>
                            <div class="dash-val">1,204</div>
                        </div>
                    </div>
                </div>

                <div id="view-settings" style="display:none;">
                    <h3 style="margin-bottom:30px;">CONFIGURAÇÕES GLOBAIS DO SISTEMA</h3>
                    
                    <div class="dash-card">
                        <div class="setting-row">
                            <div>
                                <div style="font-weight:bold;">MOTOR DE VOZ (IA)</div>
                                <div style="font-size:0.8rem; color:#888;">Feedback auditivo do sistema.</div>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="voice-toggle" onchange="toggleSetting('voice')">
                                <span class="slider"></span>
                            </label>
                        </div>

                        <div class="setting-row">
                            <div>
                                <div style="font-weight:bold;">AUTENTICAÇÃO DE DOIS FATORES (MFA)</div>
                                <div style="font-size:0.8rem; color:#888;">Exigir token extra no login.</div>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="mfa-toggle" onchange="toggleSetting('mfa')">
                                <span class="slider"></span>
                            </label>
                        </div>

                        <div class="setting-row">
                            <div>
                                <div style="font-weight:bold;">MODO EDIÇÃO (CMS)</div>
                                <div style="font-size:0.8rem; color:#888;">Editar textos do site clicando neles.</div>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="edit-toggle" onchange="toggleSetting('edit')">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <nav>
        <div class="brand"><i class="fa-solid fa-layer-group" style="color: var(--neon);"></i> KNS</div>
        <div class="nav-links">
            <a href="#p9" class="nav-link editable">Soluções</a>
            <a href="#models" class="nav-link editable">Modelos</a>
            <a href="#about" class="nav-link editable">Founder</a>
        </div>
        <div style="display: flex; gap: 15px; align-items: center;">
            <button class="theme-switch" onclick="toggleTheme()"><i class="fa-solid fa-circle-half-stroke"></i></button>
            <button class="btn-login" onclick="toggleLogin()"><i class="fa-solid fa-lock"></i> ÁREA DO CLIENTE</button>
            <a href="https://calendly.com/kalebdossantos1206/30min" target="_blank" class="btn-action">FALE COM O BOARD</a>
        </div>
    </nav>

    <section class="hero">
        <div class="status-pill editable">
            <span style="width: 6px; height: 6px; background: var(--neon); border-radius: 50%;"></span>
            SYSTEM ONLINE
        </div>
        <div class="hero-title-wrapper">
            <span class="hero-word-1 editable">CONTINUIDADE</span>
            <span class="hero-word-2 editable">ABSOLUTA.</span>
        </div>
        <p class="hero-sub editable">
            Engenharia de Continuidade e Proteção de Ativos Digitais para operações que não aceitam falhas.
        </p>
        
        <div class="xdr-wrapper">
            <div class="xdr-frame">
                <div class="xdr-screen">
                    <iframe width="100%" height="100%" src="https://www.youtube.com/embed/T9wvW0EYfE0?rel=0&modestbranding=1&autohide=1&showinfo=0&controls=0" frameborder="0" allowfullscreen style="border: none;"></iframe>
                </div>
            </div>
            <div class="xdr-stand-neck"></div>
            <div class="xdr-stand-base"></div>
        </div>
    </section>

    <section id="about" class="section-pad">
        <div class="founder-box">
            <div><img src="./assets/foto.jpg" alt="Kaleb Nunes" class="founder-photo"></div>
            <div style="text-align: left;">
                <span class="mono" style="color: var(--neon); letter-spacing: 1px;">FOUNDER & HEAD OF ENGINEERING</span>
                <h3 class="editable" style="font-family: 'Orbitron'; font-size: 2.5rem; margin: 15px 0; color: var(--text-main);">KALEB NUNES</h3>
                <p class="editable" style="color: var(--text-muted); line-height: 1.8;">
                    "Minha missão é simples: garantir que a tecnologia seja um ativo invisível, não um problema visível. Com o Protocolo 09, entregamos a paz de espírito que apenas a engenharia de precisão pode oferecer."
                </p>
            </div>
            <div class="cert-badge-wrapper">
                <img src="./assets/sage_full.png" alt="SAGE Badge" class="cert-badge-img">
            </div>
        </div>
    </section>

    <footer id="contact" style="padding: 80px 5%; border-top: 1px solid var(--border); background: var(--footer-bg);">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 40px;">
            <div>
                <h3 style="font-family: 'Orbitron'; color:var(--text-main);">KNS GLOBAL</h3>
                <p class="editable" style="color: var(--text-muted);">Engenharia de Continuidade.</p>
            </div>
            <div>
                <h4 style="color: var(--text-main);">CONTATO</h4>
                <div class="editable" style="color: var(--text-muted);">+55 (47) 98890-1616</div>
            </div>
        </div>
    </footer>

    <script>
        // CONFIGURAÇÕES GLOBAIS (PERSISTENTES)
        let config = {
            voice: localStorage.getItem('kns_voice') !== 'false', // Default true
            mfa: localStorage.getItem('kns_mfa') !== 'false', // Default true
            editMode: false
        };

        // INICIALIZAÇÃO
        window.onload = function() {
            // Load Switches State
            document.getElementById('voice-toggle').checked = config.voice;
            document.getElementById('mfa-toggle').checked = config.mfa;
            document.getElementById('edit-toggle').checked = config.editMode;
        };

        // VOICE ENGINE
        function speak(text) {
            if (config.voice && 'speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'pt-BR';
                window.speechSynthesis.speak(utterance);
            }
        }

        // LOGIN LOGIC
        function toggleLogin() {
            document.getElementById('login-modal').classList.toggle('active');
            document.getElementById('step-login').style.display = 'block';
            document.getElementById('mfa-section').style.display = 'none';
            document.getElementById('login-error').style.display = 'none';
        }

        function processLogin() {
            const u = document.getElementById('email').value;
            const p = document.getElementById('password').value;

            if (u === 'root' && p === 'kns_master') {
                // ROOT ACCESS -> TERMINAL
                document.getElementById('login-modal').classList.remove('active');
                document.getElementById('terminal-overlay').style.display = 'block';
                document.getElementById('cmd-input').focus();
                speak("Acesso Root concedido. Bem-vindo ao Shell do Arquiteto.");
                return;
            }

            if (u === 'kaleb.nunes' && p === '13091993') {
                // ADMIN ACCESS
                if (config.mfa) {
                    speak("Credenciais aceitas. Autenticação de dois fatores necessária.");
                    document.getElementById('step-login').style.display = 'none';
                    document.getElementById('mfa-section').style.display = 'block';
                } else {
                    finalizeLogin(); // Pula MFA se desligado
                }
            } else {
                speak("Acesso negado.");
                document.getElementById('login-error').style.display = 'block';
            }
        }

        function finalizeLogin() {
            speak("Acesso Administrativo concedido.");
            document.getElementById('login-modal').classList.remove('active');
            document.getElementById('dashboard-overlay').style.display = 'block';
        }

        function logout() {
            document.getElementById('dashboard-overlay').style.display = 'none';
            document.getElementById('terminal-overlay').style.display = 'none';
            document.getElementById('email').value = '';
            document.getElementById('password').value = '';
            speak("Sessão finalizada.");
        }

        // SETTINGS LOGIC
        function toggleSetting(key) {
            if (key === 'voice') {
                config.voice = !config.voice;
                localStorage.setItem('kns_voice', config.voice);
                if(config.voice) speak("Voz do sistema ativada.");
            }
            if (key === 'mfa') {
                config.mfa = !config.mfa;
                localStorage.setItem('kns_mfa', config.mfa);
                speak(config.mfa ? "MFA ativado." : "MFA desativado. Cuidado.");
            }
            if (key === 'edit') {
                config.editMode = !config.editMode;
                toggleEditModeOnPage();
                speak(config.editMode ? "Modo de edição habilitado." : "Modo de edição desabilitado.");
            }
        }

        // CMS / EDIT MODE LOGIC
        function toggleEditModeOnPage() {
            const elements = document.querySelectorAll('.editable');
            elements.forEach(el => {
                el.contentEditable = config.editMode;
                if (config.editMode) {
                    el.classList.add('editable-active');
                } else {
                    el.classList.remove('editable-active');
                }
            });
        }

        // TERMINAL LOGIC
        const terminalInput = document.getElementById('cmd-input');
        const terminalOutput = document.getElementById('terminal-output');

        terminalInput.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                const cmd = this.value.toLowerCase().trim();
                printLine(`root@kns-core:~# ${cmd}`);
                this.value = '';
                
                // COMMANDS
                if (cmd === 'help') {
                    printLine("AVAILABLE COMMANDS:");
                    printLine("  disable mfa    - Force disable MFA globally");
                    printLine("  enable voice   - Force enable voice engine");
                    printLine("  edit site      - Toggle site edit mode");
                    printLine("  exit           - Logout from shell");
                } else if (cmd === 'disable mfa') {
                    config.mfa = false;
                    localStorage.setItem('kns_mfa', false);
                    printLine("SUCCESS: Multi-Factor Authentication DISABLED.");
                } else if (cmd === 'enable voice') {
                    config.voice = true;
                    printLine("SUCCESS: Voice Engine ENABLED.");
                    speak("Voice Engine online.");
                } else if (cmd === 'edit site') {
                    config.editMode = true;
                    toggleEditModeOnPage();
                    printLine("SUCCESS: CMS Edit Mode ACTIVE.");
                } else if (cmd === 'exit') {
                    logout();
                } else {
                    printLine(`Command not found: ${cmd}`);
                }
            }
        });

        function printLine(text) {
            const div = document.createElement('div');
            div.className = 'terminal-line';
            div.innerText = text;
            terminalOutput.appendChild(div);
            // Scroll to bottom
            document.getElementById('terminal-overlay').scrollTop = document.getElementById('terminal-overlay').scrollHeight;
        }

        // NAVIGATION TABS
        function switchTab(id) {
            document.getElementById('view-home').style.display = 'none';
            document.getElementById('view-settings').style.display = 'none';
            document.getElementById('view-' + id).style.display = 'block';
            
            document.querySelectorAll('.dash-btn').forEach(btn => btn.classList.remove('active'));
            event.currentTarget.classList.add('active');
        }

        function toggleTheme() {
            const html = document.documentElement;
            const current = html.getAttribute('data-theme');
            html.setAttribute('data-theme', current === 'dark' ? 'light' : 'dark');
        }
    </script>
</body>
</html>
